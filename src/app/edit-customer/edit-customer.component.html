<div class="container mt-4">
	<div class="card shadow">
		<div class="card-header bg-primary text-white">
			<h5 class="mb-0"><i class="bi bi-pencil-square me-2"></i>Edit Customer</h5>
		</div>
		<div class="card-body">
			<div *ngIf="isLoading" class="text-center py-5">
				<div class="spinner-border text-primary" role="status">
					<span class="visually-hidden">Loading...</span>
				</div>
				<p class="mt-3 text-muted">Loading customer data...</p>
			</div>

			<div *ngIf="errorMessage" class="alert alert-danger">
				<i class="bi bi-exclamation-triangle-fill me-2"></i>
				{{errorMessage}}
			</div>

			<form *ngIf="!isLoading" [formGroup]="editCustomerFormGroup" (ngSubmit)="handleUpdateCustomer()"
				class="row g-3">
				<div class="col-md-6">
					<label class="form-label">Name</label>
					<input type="text" formControlName="name" class="form-control">
					<div class="text-danger small"
						*ngIf="editCustomerFormGroup.get('name')?.touched && editCustomerFormGroup.get('name')?.errors">
						<span *ngIf="editCustomerFormGroup.get('name')?.errors?.['required']">Name is required</span>
						<span *ngIf="editCustomerFormGroup.get('name')?.errors?.['minlength']">Name must be at least 4
							characters</span>
					</div>
				</div>

				<div class="col-md-6">
					<label class="form-label">Email</label>
					<input type="email" formControlName="email" class="form-control">
					<div class="text-danger small"
						*ngIf="editCustomerFormGroup.get('email')?.touched && editCustomerFormGroup.get('email')?.errors">
						<span *ngIf="editCustomerFormGroup.get('email')?.errors?.['required']">Email is required</span>
						<span *ngIf="editCustomerFormGroup.get('email')?.errors?.['email']">Email is invalid</span>
					</div>
				</div>

				<div class="col-md-6">
					<label class="form-label">Phone</label>
					<input type="tel" formControlName="phone" class="form-control">
				</div>

				<div class="col-md-6">
					<label class="form-label">Status</label>
					<select formControlName="status" class="form-select">
						<option value="ACTIVE">Active</option>
						<option value="INACTIVE">Inactive</option>
						<option value="PENDING">Pending</option>
					</select>
				</div>

				<div class="col-12">
					<label class="form-label">Address</label>
					<textarea formControlName="address" class="form-control" rows="3"></textarea>
				</div>

				<div class="col-12 mt-4">
					<button type="submit" [disabled]="editCustomerFormGroup.invalid || isLoading"
						class="btn btn-primary me-2">
						<i class="bi bi-save me-1"></i> Update Customer
					</button>
					<button type="button" class="btn btn-outline-secondary" (click)="cancelEdit()">
						<i class="bi bi-x-circle me-1"></i> Cancel
					</button>
				</div>
			</form>
		</div>
	</div>
</div>